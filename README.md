# Mail Parser Bot

**Mail Parser Bot** — это автоматизированный бот, который анализирует электронные письма, извлекает ключевую информацию и отправляет рекомендации в Telegram. Бот использует GPT-4 для анализа текста писем и предоставляет удобные рекомендации в формате, понятном пользователю.

## Основные функции

- **Парсинг писем**: Автоматически извлекает текст из непрочитанных писем с почтового сервера.
- **Анализ текста**: Использует GPT-4 для анализа текста и генерации рекомендаций.
- **Отправка в Telegram**: Отправляет рекомендации в Telegram.
- **Поддержка длинных сообщений**: Если сообщение превышает лимит Telegram (4096 символов), оно автоматически разделяется на части.

## Как это работает

1. Бот подключается к почтовому серверу через IMAP и проверяет наличие новых писем.
2. Для каждого письма извлекается текст и тема.
3. Текст письма анализируется с помощью GPT-4, который генерирует рекомендации.
4. Рекомендации отправляются в Telegram с использованием HTML-форматирования.

## Чтобы развернуть проект, Вам необходимо:

1. Убедиться, что **Docker** и **Docker Compose** установлены.  
   Вы можете найти инструкции по установке Docker [здесь](https://docs.docker.com/engine/install/).

2. Скопировать папку проекта (или клонируйте репозиторий с помощью Git).

3. Создать файл `.env` и заполните его конфиденциальными данными:
```ini
IMAP_SERVER=
EMAIL_USERNAME=
EMAIL_PASSWORD=
TELEGRAM_BOT_TOKEN=
TELEGRAM_CHAT_ID=
```

4. Запустить контейнер:
```bash
docker-compose up --build
```
5. Дополнительные улучшения(не обязательно):

Если вы хотите сохранять логи в файл, добавьте монтирование `volume` для логов:

```yaml
volumes:
   - .:/app
   - ./logs:/app/logs  # Монтируем папку для логов
```

6. Обновите код для записи логов в файл:

```python
import logging

logging.basicConfig(
    level=logging.INFO,
    format="%(asctime)s - %(levelname)s - %(message)s",
    handlers=[
        logging.FileHandler("logs/mail-bot.log"),  # Логи в файл
        logging.StreamHandler()  # Логи в консоль
    ]
)
```

# Итог
Теперь ваш проект упакован в Docker и готов к развёртыванию `"одной командой"`. 
Вы можете легко переносить его на другие компьютеры и запускать без необходимости установки зависимостей вручную.
